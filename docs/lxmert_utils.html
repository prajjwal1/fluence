---

title: lxmert_utils

keywords: fastai
sidebar: home_sidebar

summary: "Utitilies for lxmert"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: lxmert_utils.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
    {% raw %}
        
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>I0222 05:43:41.665313 140706640189248 file_utils.py:35] PyTorch version 1.4.0+cpu available.
/glob/intel-python/python3/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:526: FutureWarning: Passing (type, 1) or &#39;1type&#39; as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / &#39;(1,)type&#39;.
  _np_qint8 = np.dtype([(&#34;qint8&#34;, np.int8, 1)])
/glob/intel-python/python3/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:527: FutureWarning: Passing (type, 1) or &#39;1type&#39; as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / &#39;(1,)type&#39;.
  _np_quint8 = np.dtype([(&#34;quint8&#34;, np.uint8, 1)])
/glob/intel-python/python3/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:528: FutureWarning: Passing (type, 1) or &#39;1type&#39; as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / &#39;(1,)type&#39;.
  _np_qint16 = np.dtype([(&#34;qint16&#34;, np.int16, 1)])
/glob/intel-python/python3/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:529: FutureWarning: Passing (type, 1) or &#39;1type&#39; as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / &#39;(1,)type&#39;.
  _np_quint16 = np.dtype([(&#34;quint16&#34;, np.uint16, 1)])
/glob/intel-python/python3/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:530: FutureWarning: Passing (type, 1) or &#39;1type&#39; as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / &#39;(1,)type&#39;.
  _np_qint32 = np.dtype([(&#34;qint32&#34;, np.int32, 1)])
/glob/intel-python/python3/lib/python3.6/site-packages/tensorflow/python/framework/dtypes.py:535: FutureWarning: Passing (type, 1) or &#39;1type&#39; as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / &#39;(1,)type&#39;.
  np_resource = np.dtype([(&#34;resource&#34;, np.ubyte, 1)])
/glob/intel-python/python3/lib/python3.6/site-packages/h5py/__init__.py:34: FutureWarning: Conversion of the second argument of issubdtype from `float` to `np.floating` is deprecated. In future, it will be treated as `np.float64 == np.dtype(float).type`.
  from ._conv import register_converters as _register_converters
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="set_visual_config" class="doc_header"><code>set_visual_config</code><a href="https://github.com/prajjwal1/fluence/tree/master/fluence/models/lxmert/lxmert_utils.py#L42" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>set_visual_config</code>(<strong><code>params</code></strong>)</p>
</blockquote>
<p>Stores the parameters as attributes</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="VisualConfig" class="doc_header"><code>class</code> <code>VisualConfig</code><a href="https://github.com/prajjwal1/fluence/tree/master/fluence/models/lxmert/lxmert_utils.py#L51" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>VisualConfig</code>(<strong><code>l_layers</code></strong>=<em><code>12</code></em>, <strong><code>x_layers</code></strong>=<em><code>5</code></em>, <strong><code>r_layers</code></strong>=<em><code>0</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="InputFeatures" class="doc_header"><code>class</code> <code>InputFeatures</code><a href="https://github.com/prajjwal1/fluence/tree/master/fluence/models/lxmert/lxmert_utils.py#L81" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>InputFeatures</code>(<strong><code>input_ids</code></strong>, <strong><code>input_mask</code></strong>, <strong><code>segment_ids</code></strong>)</p>
</blockquote>
<p>A class to store features of data</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="convert_sents_to_features" class="doc_header"><code>convert_sents_to_features</code><a href="https://github.com/prajjwal1/fluence/tree/master/fluence/models/lxmert/lxmert_utils.py#L92" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>convert_sents_to_features</code>(<strong><code>sents</code></strong>, <strong><code>max_seq_length</code></strong>, <strong><code>tokenizer</code></strong>)</p>
</blockquote>
<p>Loads a data file into a list of <code>InputBatch</code>s.</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="BertPreTrainedModel" class="doc_header"><code>class</code> <code>BertPreTrainedModel</code><a href="https://github.com/prajjwal1/fluence/tree/master/fluence/models/lxmert/lxmert_utils.py#L132" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>BertPreTrainedModel</code>(<strong><code>config</code></strong>, <strong>*<code>inputs</code></strong>, <strong>**<code>kwargs</code></strong>) :: <code>Module</code></p>
</blockquote>
<p>An abstract class to handle weights initialization and
a simple interface for dowloading and loading pretrained models.</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="AnswerTable" class="doc_header"><code>class</code> <code>AnswerTable</code><a href="https://github.com/prajjwal1/fluence/tree/master/fluence/models/lxmert/lxmert_utils.py#L287" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>AnswerTable</code>(<strong><code>dsets</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="load_lxmert_qa" class="doc_header"><code>load_lxmert_qa</code><a href="https://github.com/prajjwal1/fluence/tree/master/fluence/models/lxmert/lxmert_utils.py#L363" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>load_lxmert_qa</code>(<strong><code>path</code></strong>, <strong><code>model</code></strong>, <strong><code>label2ans</code></strong>)</p>
</blockquote>
<p>Load model weights from LXMERT pre-training.
The answers in the fine-tuned QA task (indicated by label2ans)
    would also be properly initialized with LXMERT pre-trained
    QA heads.</p>
<p>:param path: Path to LXMERT snapshot.
:param model: LXRT model instance.
:param label2ans: The label2ans dict of fine-tuned QA datasets, like
    {0: 'cat', 1: 'dog', ...}
:return:</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}
</div>
 

