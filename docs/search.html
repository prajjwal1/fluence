---
toc: false
title: Setting up Search

keywords: fastai
sidebar: home_sidebar

summary: "Using Google Custom Search"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/99_search.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
    
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>If you want to include Search functionality on your docs site, you need to set up a <a href="https://cse.google.com/cse/all">Google Custom Search</a>, and then link it to your nbdev project. Here's all the steps you need to follow (replace anything in <code>{}</code> with the value your have in <code>settings.ini</code>:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ol>
<li>Go to <a href="https://cse.google.com/cse/all">Google Custom Search</a> and click 'add'.</li>
<li>In "Sites to search" type the URL of your docs site (e.g. <code>{owner}.github.io/{lib_name}</code>), and in "Name of the search engine" type "{lib_name} docs". Then click "CREATE"</li>
<li>Click "Control Panel"</li>
<li>In the "Basics" tab, click "Copy to clipboard" in the "Search engine ID" row</li>
<li>Paste that as the value for "google_search:" in <code>docs/_config.yml</code> in your project. (If you don't already have this file, run <a href="/cli#nbdev_build_lib"><code>nbdev_build_lib</code></a> to create it, once you've set up your <code>settings.ini</code>)</li>
<li>Click "Advanced" (far-right tab), then "CSE Context", then "Download (XML)"</li>
<li>Open the downloaded <code>cse.xml</code> file in a text editor, and delete everything from the line starting with <code>&lt;LookAndFeel</code> onwards (including that line)</li>
<li>Replace those lines with the contents of this file: <a href="https://github.com/fastai/nbdev/blob/master/docs/search-template.txt">search-template.txt</a>, and save it</li>
<li>In your browser, in the same "Advanced" tab you downloaded <code>cse.xml</code> from, click <code>Upload XML file</code> and upload the updated <code>cse.xml</code> file you just save.</li>
</ol>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Usage-tips">Usage tips<a class="anchor-link" href="#Usage-tips">&#182;</a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>To see what documents google is currently indexing at any particular URL, use the site: operator without any search term. e.g. "site:docs.fast.ai". You can use this to sense check what a search term ought to return as the result</li>
<li>If Google isn't indexing your docs site, you can ask it to do so by following <a href="https://support.google.com/webmasters/answer/9012289#request_indexing">these instructions</a>.</li>
</ul>

</div>
</div>
</div>
</div>
 

